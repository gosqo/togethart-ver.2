<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" th:href="@{/css/kim_bootstrap.css}">
  <title>TogethArt | 회원가입</title>
</head>
<body>
  <main>
  <div class="input-container">
      <a th:href="@{/}">홈으로 돌아가기</a>

      <!-- 회원가입 폼 -->
    <form id="form" method="POST">
     
        <legend style="text-align: center;">회원가입</legend>

 <fieldset class="signup">       
          
<!-- 이메일 주소 -->
<fieldset>
        <div class="form-group">
          <div id="mail_input" name="mail_input">
          <label for="memberEmail" class="form-label mt-4">Email</label>
          <input type="email" class="form-control" name="memberEmail" id="memberEmail" aria-describedby="emailHelp"
            placeholder="사용가능한 이메일을 입력해주세요.">
            
            <input type="button" id="sendBtn" name="sendBtn" value="인증받기" onclick="sendNumber()" class="btn btn-outline-success btn-sm" style="width:100%; margin-top:28px;">
          </div>
            <div id="mail_number" name="mail_number" style="display: none">
              <input type="text" name="number" id="number" placeholder="인증번호 입력"  >

              <p><input type="button" name="confirmBtn" id="confirmBtn" class="btn btn-outline-success btn-sm" style="float: right; margin-top:28px;"
              value="이메일 인증" onclick="confirmNumber()"></p>

              <input type="text" id="Confirm" name="Confirm" style="display: none" value="">

              </div>
            <p><input type="button" id="check_button" value="중복 검사" class="btn btn-outline-success btn-sm" style="width:100%; margin-top:28px;"
              onclick="checkusername();"></p>
          </div>
</fieldset>

<!--이메일 유효성 검사 -->

<div class="Emailsuccess-message hide">초록: 사용가능한 이메일 입니다.</div>
<div class="Emailsuccess-message2 hide">노랑: 이미 사용중인 이메일 입니다.</div>
<div class="fail-emailmessage hide">올바르지 않은 이메일 형식입니다.</div>

<!-- 비밀번호 -->
<fieldset>
        <div class="form-group">
          <label for="memberPwd" class="form-label mt-4">비밀번호</label>
          <input type="password" class="form-control" name="memberPwd" id="memberPwd" placeholder="비밀번호"
            autocomplete="off">
          </div>
</fieldset>
<!--비밀번호 유효성 검사-->
          <div class="success-pwdmessage hide">사용할 수 있는 비밀번호 입니다.</div>
          <div class="strongPassword-message hide">비밀번호 영문자+숫자+특수조합 (8~25자리 입력)</div>

<!-- 비밀번호 확인-->
<fieldset>
        <div class="form-group">
          <label for="check-memberPwd" class="form-label mt-4">비밀번호 확인</label>
          <input type="password" class="form-control" name="check-memberPwd" id="memberPwd2"
            placeholder="비밀번호 확인을 위해 재입력해주세요." autocomplete="off">
        </div>     
</fieldset>

<!-- 비밀번호확인 유효성 검사-->
          <div class="success-pwd2message hide">비밀번호가 일치합니다.</div>
          <div class="mismatch-message hide">비밀번호가 일치하지 않습니다</div>

<!-- 유저네임 -->
<fieldset>
        <div class="form-group">
          <label for="memberUsername" class="form-label mt-4">닉네임</label>
          <input type="text" class="form-control" name="memberUsername" id="memberUsername" placeholder="닉네임을 입력해주세요."
            autocomplete="off">

            <p><input type="button" id="check_button" value="중복 검사" 
              
              class="btn btn-outline-success btn-sm" style="width:100%; margin-top:28px;"
              onclick="checkEmail();"></p>

        </div>
</fieldset>
<!-- 닉네임 유효성 검사-->
<div class="success-message hide">초록: 사용가능한 닉네임 입니다.</div>
<div class="success-message2 hide">노랑: 이미 사용중인 닉네임 입니다.</div>
  <div class="failure-message hide">최대 12글자 한글/영어대소문자/숫자만 가능합니다.</div>
        <!-- 생일 -->
<fieldset>
        <div class="form-group">
          <label for="memberBirth" class="form-label mt-4">생일</label>
          <input type="date" class="form-control" name="memberBirth" id="memberBirth" autocomplete="off">
        </div>
</fieldset>
        <!-- </fieldset> -->
        <!-- 관심 카테고리 -->
        <!-- <fieldset class="form-group"> -->
        <!-- <label class="form-label mt-4">Categories ( 5 개 까지 선택 가능합니다. )</label> 
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="3D Art" id="category">
            <label class="form-check-label" for="category">
              3D Art
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Abstract" id="category">
            <label class="form-check-label" for="category">
              Abstract
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Animal" id="category">
            <label class="form-check-label" for="category">
              Animal
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Anime" id="category">
            <label class="form-check-label" for="category">
              Anime
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Architecture" id="category">
            <label class="form-check-label" for="category">
              Architecture
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Celebrity" id="category">
            <label class="form-check-label" for="category">
              Celebrity
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Character" id="category">
            <label class="form-check-label" for="category">
              Character
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Comics" id="category">
            <label class="form-check-label" for="category">
              Comics
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Fantasy" id="category">
            <label class="form-check-label" for="category">
              Fantasy
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Food" id="category">
            <label class="form-check-label" for="category">
              Food
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Games" id="category">
            <label class="form-check-label" for="category">
              Games
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Holiday" id="category">
            <label class="form-check-label" for="category">
              Holiday
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Men" id="category">
            <label class="form-check-label" for="category">
              Men
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Millitary" id="category">
            <label class="form-check-label" for="category">
              Millitary
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Movie" id="category">
            <label class="form-check-label" for="category">
              Movie
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Nature" id="category">
            <label class="form-check-label" for="category">
              Nature
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Photography" id="category">
            <label class="form-check-label" for="category">
              Photography
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Pop Art" id="category">
            <label class="form-check-label" for="category">
              Pop Art
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Sci-Fi" id="category">
            <label class="form-check-label" for="category">
              Sci-Fi
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Space" id="category">
            <label class="form-check-label" for="category">
              Space
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Sports" id="category">
            <label class="form-check-label" for="category">
              Sports
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Technology" id="category">
            <label class="form-check-label" for="category">
              Technology
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Travel" id="category">
            <label class="form-check-label" for="category">
              Travel
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Vehicle" id="category">
            <label class="form-check-label" for="category">
              Vehicle
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Women" id="category">
            <label class="form-check-label" for="category">
              Women
            </label>
          </div> -->
          <br/>
          <button type="submit" class="btn btn-success" style="width:100%; margin-bottom: 5rem;" onclick="joinform_check();">회원가입</button>
</fieldset>  
    </form>
  </div>
  <script th:src="@{js/member/signup.js}"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script type="text/javascript">
    function sendNumber(){
        $("#mail_number").css("display","block");
        $.ajax({
            url:"/mail",
            type:"post",
            dataType:"json",
            data:{"mail" : $("#memberEmail").val()},
            success: function(data){
                alert("인증번호 발송");
                $("#Confirm").attr("value",data);
            }
        });
    }

    function confirmNumber(){
        var number1 = $("#number").val();
        var number2 = $("#Confirm").val();

        if(number1 == number2){
            alert("인증되었습니다.");
        }else{
            alert("번호가 다릅니다.");
        }
    }
</script>
</body>

</html>